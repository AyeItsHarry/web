---
import { localizePath } from "astro-i18next";
import i18next, { t, changeLanguage } from "i18next";
import Agreement from "../components/Agreement.astro";
import { getCollection } from "astro:content";
import LanguageDropdown from "../components/LanguageDropdown.astro";
const posts = (await getCollection("blog")).sort(
  (b, a) => a.data.pubDate.valueOf() - b.data.pubDate.valueOf()
);

const { isMain } = Astro.props;
---

<Agreement/>

<r lang={i18next.language} class="bannerholder">
	<div id="loadingindicator" style="position:fixed; top:0; left:0; width:100%; height:5px; background-color:#377ce4; z-index:1000; transition:0.5s;"></div>
	<img id="loadingspinner" alt="Loading..." src="/img/loading.gif" style="width:30px; height:30px; top:20px; left:20px; filter:brightness(1000); z-index:1000; position:fixed;">

	<t id="grad" style="top:0; left:0; width:100%; height:100px; opacity:0; transition:0.5s; pointer-events:none; z-index:0; position:absolute;"></t>
	<a href={localizePath("/")} aria-label="Home Link" class="logohold"><img loading="lazy" class="logo" alt="WiiLink Logo" style={isMain} src=" /img/Wii_Link_Logo.webp" width="190px" height="69px"></a>
	  <div id="links" style="display:none;">
		<a class="header-link" href={localizePath("/")} aria-label="Home Link"><i class="fa fa-home" style="margin-right:5px;"></i> {t("header.home")}</a>
		<a class="header-link" onmouseover="toggle('newsheader');" onmouseout="toggle('newsheader');" href={localizePath("/news")} aria-label="News Link"><i class="fa fa-newspaper" style="margin-right:5px;"></i> {t("header.news")}</a>
		<div id="newsheader" class="popover-header" onmouseout="toggle('newsheader');">
			<div class="holder">
			{
				posts.slice(0,3).map(post => (
				  <div class="post" style="padding:8px; border-radius:4px;">
					<a style="display:flex; flex-direction:row; gap:8px;" href={`/news/${post.slug}/`} aria-label={post.data.title + 'News Link'}>
					  <img alt="News Post Image" loading="lazy" style="height:100px; border-radius:4px;" src={post.data.heroImage} />
					</a>
				  </div>
				))
			  }
			  <hr style="border-top: 1px solid var(--border-color);"/>
			  <div style="padding-left:8px; font-size:15px; padding-bottom:8px; opacity:0.7;"><i class="fa fa-circle-info"></i> {t("header.news-info")}</div>
			</div>
		</div>
		<a class="header-link" onmouseover="toggle('guideheader');" onmouseout="toggle('guideheader');" href={localizePath("/guide/")} aria-label="Guide Link"><i class="fa fa-book" style="margin-right:5px;"></i> {t("header.guide")}</a>
		<div id="guideheader" class="popover-header" onmouseout="toggle('guideheader');">
			<div class="holder">
			<div class="post" style="padding:8px; border-radius:4px;">
				<a style="display:flex; flex-direction:row; align-items:center; gap:8px;" href='/guide/install' aria-label="Install Guide Link">
					<i class="fa fa-download" style="width:85px !important; height:50px; text-align:center; line-height:50px; border-radius:4px; background-color:var(--bg-color-tertiary);"></i>
				<div>
				  <div class="title">
					<b style="width:80%; margin-right:10px; text-align:right; position:relative;">
						{t("guidePost.installGuide")}
					</b>
				  </div>
				  <div style="display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;   overflow: hidden;">{t("guidePost.installGuide-info")}</div>
				</div>
				<i class="fa fa-arrow-right"></i>
				</a>
			  </div>
			  <div class="post" style="padding:8px; border-radius:4px;">
				<a style="display:flex; flex-direction:row; align-items:center; gap:8px;" href='/guide/problemsolving' aria-label="Troubleshooting Guide Link">
					<i class="fa fa-circle-exclamation" style="width:65px !important; height:50px; text-align:center; line-height:50px; border-radius:4px; background-color:var(--bg-color-tertiary);"></i>
				<div>
				  <div class="title">
					<b style="width:80%; margin-right:10px; text-align:right; position:relative;">
						{t("guidePost.problemSolving")}
					</b>
				  </div>
				  <div style="display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;   overflow: hidden;">{t("guidePost.problemSolving-info")}</div>
				</div>
				<i class="fa fa-arrow-right"></i>
				</a>
			  </div>
			  <div class="post" style="padding:8px; border-radius:4px;">
				<a style="display:flex; flex-direction:row; align-items:center; gap:8px;" href='/guide/faq' aria-label="FAQ Link">
					<i class="fa fa-circle-question" style="width:80px !important; height:50px; text-align:center; line-height:50px; border-radius:4px; background-color:var(--bg-color-tertiary);"></i>
				<div>
				  <div class="title">
					<b style="width:80%; margin-right:10px; text-align:right; position:relative;">
						{t("guidePost.faq")}
					</b>
				  </div>
				  <div style="display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical;   overflow: hidden;">{t("guidePost.faq-info")}</div>
				</div>
				<i class="fa fa-arrow-right"></i>
				</a>
			  </div>
			  <hr style="border-top: 1px solid var(--border-color);"/>
			  <div style="padding-left:8px; font-size:15px; padding-bottom:8px; opacity:0.7;"><i class="fa fa-circle-info"></i> {t("header.guide-info")}</div>
			</div>
		</div>
		<a class="header-link" href={localizePath("/status")} aria-label="Status Link"><i class="fa fa-server" style="margin-right:5px;"></i> {t("header.status")}</a>
		<a class="header-link" href={localizePath("/services")} aria-label="Services Link"><i class="fa fa-box" style="margin-right:5px;"></i> {t("header.services")}</a>
		<div class="dropdown">
			<button class="btn" onclick="toggleTranslate()" id="titleTranslate" style="font-size:30px; padding:0px 10px; transform:translate(5px, 0);" type="button" data-bs-toggle="tooltip" data-bs-placement="bottom" data-bs-html="true" data-bs-original-title="<i class='fas fa-globe'></i>" aria-expanded="false" aria-label="Language Picker">
			</button>
			<div class="dropdown-menu" id="dropMenu" style="background-color: var(--bg-color-light); border:1px solid var(--border-color); transform:translate(50px, -10px); border-radius:12px; overflow:hidden;">
				<div style="width:100%; top:0; position:fixed; border-bottom:1px solid var(--border-color); background-color: var(--bg-color-tertiary); z-index:10000;"><h6 class="dropdown-header" id="currentlang"><i class="fa fa-globe"></i> {t("header.chooseLang")}</h6></div>
				<ul class="optDisplay" id="optionsDisplay" style="top:30px; height:255px; width:200px; overflow-y:scroll; position:relative;"></ul>
			</div>
		  </div>
		<button id="moreHeader" onclick="toggle('dropdownMore');" class="btn" aria-label="More button"><i
			class="fa-solid fa-chevron-down"
			style="font-size:20px; pointer-events:none;"></i>
			<span class="position-absolute top-10 start-95 translate-middle p-1 bg-danger rounded-circle" style="pointer-events: none;"></span>
			</button>
		<div id="dropdownMore">
			<a class="dropdown-item" style="display:flex; flex-direction:row; align-items:center; gap:8px;" id="account" href="https://accounts.wiilink.ca" aria-label="Extras Link"><i class="fa-solid fa-user"></i>Log into WiiLink Accounts</a>
			<hr style="width:106%; transform:translate(-9px, 0); opacity:0.9; margin:8px 0px; border-top:1px solid var(--bg-opaque-1);">
		<a class="dropdown-item" href={localizePath("/extras")} aria-label="Extras Link"><i class="fa-solid fa-box-open"></i> {t("header.extras")}</a>
			<a class="dropdown-item" style="display:flex; align-items:center; justify-content:space-between; gap:8px;" href="https://wfc.wiilink24.com" aria-label="WiiLink WFC Link"><div><i class="fa-solid fa-wifi"></i> WiiLink WFC</div> <span class="p-1 bg-danger rounded" style="width:30px; height:30px; text-align:center; color:white; display:flex; align-items:center; justify-content:center;"><i class="fa-solid fa-fire"></i></span></a>
			<a class="dropdown-item" style="display:flex; align-items:center; justify-content:space-between; gap:8px;" href="https://miicontest.wiilink.ca" aria-label="CMOC Viewing Tool Link"><div><i class="fa-solid fa-users"></i> Check Mii Out Channel</div></a>
			<a class="dropdown-item" style="display:flex; align-items:center; justify-content:space-between; gap:8px;" href="https://evc.wiilink.ca" aria-label="EVC Viewing Tool Link"><div><i class="fa-solid fa-chart-simple"></i> Everybody Votes Channel</div><span class="p-1 bg-info rounded" style="width:30px; height:30px; text-align:center; color:white; display:flex; align-items:center; justify-content:center;"><i class="fa-solid fa-star"></i></span></a>
			<a class="dropdown-item" style="display:flex; align-items:center; justify-content:space-between; gap:8px;" href="https://tag.rc24.xyz/" aria-label="LinkTag"><div><i class="fa-solid fa-tag"></i> LinkTag</div></a>
			<a class="dropdown-item" style="display:flex; align-items:center; justify-content:space-between; gap:8px;" href="https://card.wiilink24.com/" aria-label="LinkTag"><div><i class="fa-solid fa-address-card"></i> Digicard</div></a>
			<a class="dropdown-item" style="display:flex; align-items:center; justify-content:space-between; gap:8px;" href="https://stamp.wiilink.ca/" aria-label="LinkTag"><div><i class="fa-solid fa-stamp"></i> Mii Stamp Generator</div></a>
			<hr style="width:106%; transform:translate(-9px, 0); opacity:0.9; margin:8px 0px; border-top:1px solid var(--bg-opaque-1);">
			<div style="display:flex; flex-direction:row; align-items: center; justify-content:space-between; gap:3px;">
				<a href="https://bookmark.rc24.xyz" style="padding:8px; width:100%; border-radius:8px 4px 4px 8px; background-color:var(--bg-color-secondary); text-align:center;" aria-label="Wii Bookmarks" title="Wii Bookmarks"><i class="fa-solid fa-bookmark"></i></a>
				<a href="http://disc.rc24.xyz/" style="padding:8px; width:100%; border-radius:4px; background-color:var(--bg-color-secondary); text-align:center;" aria-label="Get the date your GameCube, Wii, or Wii U disc was manufactured." title="Get the date your GameCube, Wii, or Wii U disc was manufactured."><i class="fa-solid fa-compact-disc"></i></a>
				<a href="http://interviews.rc24.xyz/" style="padding:8px; width:100%; border-radius:4px; background-color:var(--bg-color-secondary); text-align:center;" aria-label="Nintendo dev interviews" title="Nintendo dev interviews"><i class="fa-solid fa-comments"></i></a>
				<a href="http://wiiremote.rc24.xyz/" style="padding:8px; width:100%; border-radius:4px 8px 8px 4px; background-color:var(--bg-color-secondary); text-align:center;" aria-label="Get the date your Wii Remote was manufactured." title="Get the date your Wii Remote was manufactured."><i class="fa-solid fa-gamepad"></i></a>
			</div>
			<!--<a style="padding:8px; margin-top:6px; border-radius:8px; background-color:#3aa01d; border: 1px solid #3aa01d60; display:flex; align-items:center; justify-content:space-between; gap:8px;" href="https://forum.wiilink.ca/" aria-label="LinkTag"><div style="width:100%; display:flex; flex-direction:row; align-items:center; justify-content:center; gap:6px; color:white!important; position:relative;"><img src="/img/favicon.webp" style="filter:brightness(10000);" height="20px"> WiiLink Forum</div></a>-->
				<hr style="width:106%; transform:translate(-9px, 0); opacity:0.9; margin:8px 0px; border-top:1px solid var(--bg-opaque-1);">
			<a
				  class="dropdown-item"
				  href="/privacy-policy"
				  aria-label="Privacy Policy Link"
				  ><i class="fa-solid fa-shield"></i> {t("header.privacyPolicy")}</a
				>
				<a class="dropdown-item" href="/tos" aria-label="Terms of Service Link"
				  ><i class="fa-solid fa-feather"></i> {t("header.tos")}</a
				>
				<a class="dropdown-item" href="/eula" aria-label="EULA Link"
				  ><i class="fa-solid fa-book"></i> {t("header.eula")}</a
				>
				<hr style="width:106%; transform:translate(-9px, 0); opacity:0.9; margin:8px 0px; border-top:1px solid var(--bg-opaque-1);">
				<div style="margin:6px; margin-top:13px; display:grid; grid-template-columns:1fr 1fr 1fr; grid-template-rows: 1fr; gap:8px;">
				<button id="themeColor" type="button" class="btn btn-light dropdown-element" aria-label="Theme Button" onclick="darkToggle()"><i class="fa-solid fa-moon" style="pointer-events:none;"></i></button>
				<a href={localizePath("/")} aria-label="Home Link"><button type="button" class="btn btn-success dropdown-element" aria-label="Download Button"><i class="fa-solid fa-download" style="color:white !important"></i></button></a>
				<a href="https://www.discord.gg/wiilink" aria-label="Discord Link"><button type="button" class="btn btn-primary dropdown-element" aria-label="Discord Button"><i class="fa-brands fa-discord" style="color:white !important"></i></button></a>
			</div>
		</div>
			<LanguageSelector showFlag={true} id="my-select-id" class="my-select-class" />
	</div>
</r>

<script is:inline>

const themeColorButton = document.getElementById('themeColor');

let loadingindicator = document.getElementById("loadingindicator");
    loadingindicator.style.width = "0%";
    loadingspinner = document.getElementById("loadingspinner");
              ><i class="fa-brands fa-discord" style="color:white !important"
              ></i></button
            ></a
    /************************
     * Loading Animation
     ************************/
    function initLoading() {
      var loadingIndicator = document.getElementById("loadingindicator");
      var loadingSpinner = document.getElementById("loadingspinner");

      if (!loadingIndicator || !loadingSpinner) {
        return;
      }

      loadingIndicator.style.width = "0%";
      loadingIndicator.style.display = "block";
      loadingSpinner.style.display = "block";

      var increaseWidth = setInterval(function () {
        var currentWidth = parseInt(loadingIndicator.style.width);
        if (currentWidth < 80) {
          loadingIndicator.style.width = currentWidth + 1 + "%";
        }
      }, 100);

      window.addEventListener("load", function () {
        clearInterval(increaseWidth);
        loadingIndicator.style.width = "100%";
        setTimeout(function () {
          loadingIndicator.style.opacity = "0";
          loadingSpinner.style.display = "none";
        }, 500);
      });
    }

    /************************
     * Theme Management
     ************************/
    var themeColorButton = document.getElementById("themeColor");

    function enableDarkMode() {
      document.documentElement.classList.add("dark");
      localStorage.setItem("color-mode", "dark");
      if (themeColorButton) {
        themeColorButton.innerHTML =
          '<svg style="pointer-events:none; transform:translate(0, -2px);" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>';
        themeColorButton.style.filter = "invert(0)";
      }
    }

    function enableLightMode() {
      document.documentElement.classList.remove("dark");
      localStorage.setItem("color-mode", "light");
      if (themeColorButton) {
        themeColorButton.innerHTML =
          '<svg style="pointer-events:none; transform:translate(0, -2px);" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>';
        themeColorButton.style.filter = "invert(1)";
      }
    }

    function themeToggle() {
      if (document.documentElement.classList.contains("dark")) {
        enableLightMode();
      } else {
        enableDarkMode();
      }
    }

    /************************
     * Cookie Management
     ************************/
    function getCookie(name) {
      try {
        var value = "; " + document.cookie;
        var parts = value.split("; " + name + "=");
        return parts.length === 2 ? parts.pop().split(";").shift() : null;
      } catch (error) {
        console.error("Error reading cookie:", error);
        return null;
      }
    }

    function updateUserInterface() {
      var userCookie = getCookie("wiilink_user");
      var isLoggedIn = getCookie("is_logged_in") === "true";

      if (!userCookie) {
        return;
      }

      try {
        var userData = JSON.parse(userCookie);
        var accountElement = document.getElementById("account");
        var moreHeader = document.getElementById("moreHeader");
		var mobileaccountbtn = document.getElementById("mobileaccountbtn");

        if (accountElement) {
          accountElement.innerHTML = createUserHTML(userData, isLoggedIn);
		  mobileaccountbtn.innerHTML = createUserPfpHTML(userData, isLoggedIn);
          moreHeader.innerHTML = createUserPfpHTML(userData, isLoggedIn);
        }
      } catch (error) {
        console.error("Error parsing user data:", error);
      }
    }

    function createUserHTML(userData, isLoggedIn) {
      return [
        '<div id="pfp-container" style="width:40px; height:40px; border-radius:8px; margin-right:5px; display:flex; align-items:center; justify-content:center; background:var(--bg-color)">',
        "<span>",
        '<img src="' + userData.pfp + '?d=404" ',
        'style="width:40px; height:40px; border-radius:8px;"',
        "onError=\"this.style.display='none'; this.parentElement.innerHTML='<div style=\\'width:40px; height:40px; border-radius:8px; background:var(--bg-opaque-2); display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:20px; color:var(--text-color);\\'>",
        userData.username.charAt(0).toUpperCase(),
        "</div>'\">",
        "</span>",
        "</div>",
        '<div style="display:flex; flex-direction:column; align-items:start;">',
        isLoggedIn
          ? 'WiiLink Account <span style="opacity:70%;">' +
            userData.username +
            "</span>"
          : '<span style="display:flex; flex-direction:row; align-items:center; gap:8px;">WiiLink Account' +
            '<span style="font-size: 12px; padding:3px; padding-left:5px; padding-right:5px; border-radius: 8px; background-color: var(--bg-opaque-1);">Logged out</span>' +
            "</span>" +
            '<span style="opacity:70%;">' +
            userData.username +
            "</span>",
        "</div>"
      ].join("");
    }

    function createUserPfpHTML(userData, isLoggedIn) {
      return [
        '<div id="pfp-container" style="width:40px; height:40px; border-radius:8px; margin-right:5px; display:flex; align-items:center; justify-content:center; background:var(--bg-color)">',
        '<img class="dropdownpfp" src="' + userData.pfp + '?d=404" ',
        'style="width:40px; height:40px; border-radius:8px;"',
        "onError=\"this.style.display='none'; this.parentElement.innerHTML='<div style=\\'width:40px; height:40px; border-radius:8px; background:var(--bg-opaque-2); display:flex; align-items:center; justify-content:center; font-weight:bold; font-size:20px; color:var(--text-color);\\'>",
        userData.username.charAt(0).toUpperCase(),
        "</div>'\">",
        "</div>"
      ].join("");
    }

    /************************
     * UI Management
     ************************/
    function toggle(id) {
      var element = document.getElementById(id);
      if (element) {
        element.style.display =
          element.style.display === "block" && !element.matches(":hover")
            ? "none"
            : "block";
      }
    }

    function initClickOutside() {
      document.addEventListener("click", function (event) {
        const dropdownMore = document.getElementById("dropdownMore");
        const newsHeader = document.getElementById("newsheader");
        const guideHeader = document.getElementById("guideheader");
        const moreHeader = document.getElementById("moreHeader");

        // Handle dropdownMore
        if (
          dropdownMore &&
          dropdownMore.style.display === "block" &&
          !dropdownMore.contains(event.target) &&
          !moreHeader.contains(event.target)
        ) {
          dropdownMore.style.display = "none";
        }

        // Handle newsheader
        if (
          newsHeader &&
          newsHeader.style.display === "block" &&
          !newsHeader.contains(event.target) &&
          !event.target.matches('[onmouseover*="newsheader"]')
        ) {
          newsHeader.style.display = "none";
        }

        // Handle guideheader
        if (
          guideHeader &&
          guideHeader.style.display === "block" &&
          !guideHeader.contains(event.target) &&
          !event.target.matches('[onmouseover*="guideheader"]')
        ) {
          guideHeader.style.display = "none";
        }
      });
    }

    function initUI() {
      var dropdownMenu = document.getElementById("dropMenu");
      if (dropdownMenu) {
        dropdownMenu.style.opacity = "0";
        dropdownMenu.style.pointerEvents = "none";
      }

      var gradient = document.getElementById("grad");
      if (gradient) {
        document.addEventListener("scroll", function () {
          gradient.style.opacity = window.pageYOffset > 0 ? "1" : "0";
        });
      }

      initClickOutside();
    }

    /************************
     * Initialization
     ************************/
    document.addEventListener("DOMContentLoaded", function () {
      initLoading();
      updateUserInterface();
      initUI();

      // Theme change listeners
      window
        .matchMedia("(prefers-color-scheme: dark)")
        .addEventListener("change", function (event) {
          if (event.matches) {
            enableDarkMode();
          } else {
            enableLightMode();
          }
        });

      if (document.documentElement.classList.contains("dark")) {
        document.getElementById("themeColor").innerHTML =
          '<svg style="pointer-events:none; transform:translate(0, -2px);" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun"><circle cx="12" cy="12" r="4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.93 4.93 1.41 1.41"/><path d="m17.66 17.66 1.41 1.41"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.34 17.66-1.41 1.41"/><path d="m19.07 4.93-1.41 1.41"/></svg>';
      } else {
        document.getElementById("themeColor").innerHTML =
          '<svg style="pointer-events:none; transform:translate(0, -2px);" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-moon"><path d="M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"/></svg>';
      }

      var darkToggleButton = document.getElementById("darkToggle");
      if (darkToggleButton) {
        darkToggleButton.addEventListener("click", function () {
          if (document.documentElement.classList.contains("dark")) {
            enableLightMode();
          } else {
            enableDarkMode();
          }
        });
      }
    });
  </script>

  <style>
    /* Base Styles */
    :root {
      --header-height: 128px;
      --header-mobile-height: 98px;
      --border-radius-standard: 8px;
      --border-radius-large: 12px;
      --spacing-standard: 8px;
      --transition-standard: 0.2s;
      --transition-slow: 0.3s;
      --max-width: 2000px;
    }

    /* Typography */
    a {
      font-size: 17px;
      text-decoration: none;
      color: white;
    }

    a:visited {
      color: white;
    }

    /* Layout Components */
    .bannerholder {
      top: 0;
      left: 0;
      width: 100%;
      height: var(--header-height);
      display: block;
      background-color: transparent;
      z-index: 80;
      position: sticky;
    }

    .logo {
      top: 50%;
      left: 50px;
      transform: translate(0, -50%);
      filter: invert(1);
      position: absolute;
    }

    /* Navigation */
    #links,
    #dropMenu {
      display: flex;
      gap: 10px;
      width: auto;
      right: 50px;
      top: 60px;
      transform: translate(0, -50%);
      align-items: center;
      justify-content: center;
      font-family:
        systemui,
        -apple-system,
        BlinkMacSystemFont,
        "Segoe UI",
        Roboto,
        Oxygen,
        Ubuntu,
        Cantarell,
        "Open Sans",
        "Helvetica Neue",
        sans-serif;
      color: rgba(255, 255, 255, 0.53);
      position: absolute;
    }

    /* Header Links */
    .header-link {
      height: 50px;
      font-size: 18px;
      margin-left: var(--spacing-standard);
      display: flex;
      justify-content: center;
      align-items: center;
      transition: var(--transition-slow);
      padding: 5px;
      border-radius: var(--border-radius-standard);
      position: relative;
      overflow: hidden;
    }

    .header-link:hover {
      transform: scale(1.02);
      background-color: var(--bg-opaque-1);
      backdrop-filter: blur(8px);
      -webkit-backdrop-filter: blur(8px);
      padding: 15px;
      transition: var(--transition-slow);
    }

    .header-link:active {
      transform: scale(0.97);
      background-color: #ffffff40;
      transition: var(--transition-standard);
    }

    .header-link::after {
      content: "";
      position: absolute;
      bottom: -5px;
      left: 0;
      right: 0;
      height: 4px;
      opacity: 0.3;
      background: #ffffff60;
      transition: var(--transition-standard);
    }

    .header-link:hover::after {
      bottom: 0;
      opacity: 1;
    }

    /* Dropdown Styles */
    #dropdownMore {
      right: 15px;
      top: 100%;
      width: 300px;
      max-height: calc(100vh - 150px);
      overflow-y: scroll;
      display: flex;
      flex-direction: column;
      gap: 3px;
      padding: var(--spacing-standard);
      background-color: var(--bg-color-light);
      border: 1px solid var(--border-color);
      border-radius: var(--border-radius-large);
      z-index: 1;
      display: none;
      position: absolute;
    }

    .dropdown-element {
      width: 100%;
      position: relative;
    }

    .dropdown-item {
      padding: var(--spacing-standard);
      border-radius: 4px;
      white-space: wrap !important;
    }

    /* Popover Header */
    .popover-header {
      top: 100%;
      animation: opin var(--transition-standard) ease-in-out forwards;
      z-index: 1;
      display: none;
      position: absolute;
    }

    .holder {
      margin-top: 18px;
      padding: 8px;
      border-radius: 12px;
      background-color: var(--bg-color-light);
      border: 1px solid var(--border-color);
    }

    .holder::before {
      content: "";
      position: absolute;
      width: 0;
      height: 0;
      border-left: 15px solid transparent;
      border-right: 15px solid transparent;
      border-bottom: 20px solid var(--border-color);
      top: -2px;
      left: 50%;
      z-index: 10000;
      transform: translateX(-50%);
    }

    .holder::after {
      content: "";
      position: absolute;
      width: 0;
      height: 0;
      border-left: 15px solid transparent;
      border-right: 15px solid transparent;
      border-bottom: 18px solid var(--bg-color-light);
      top: 1px;
      left: 50%;
      z-index: 10000;
      transform: translateX(-50%);
    }

    .post:hover {
      background-color: var(--bg-color-secondary);
      transition: 0.2s;
    }

    .post:active {
      transform: scale(0.98);
      transition: 0.2s;
    }

    #newsheader {
      width: 500px;
      transform: translate(-163px, 0);
    }

    #guideheader {
      width: 400px;
      transform: translate(-70px, 0);
    }

    /* Utility Classes */
    .emoji:nth-child(1) {
      width: 33px;
      transform: translate(0, -3px);
    }

    .emoji2 {
      width: 20px;
      margin-right: 5px;
      transform: translate(0, -3px);
    }

    .no-transitions * {
      transition: none !important;
      animation: none !important;
    }

    #moreHeader:hover {
      transform: scale(1.02);
      transition: 0.2s;
    }

    #moreHeader:active {
      transform: scale(0.97);
      transition: 0.2s;
    }

    /* Gradients */
    #grad {
      background: linear-gradient(
        0deg,
        rgba(255, 255, 255, 0) 0%,
        rgba(32, 32, 32, 0.5) 100%
      );
    }

    /* Responsive Design */
    @media (max-width: 1400px) {
      .btn2 {
        opacity: 1;
      }
    }

    @media (max-width: 1000px) {
      .bannerholder {
        height: var(--header-mobile-height);
        opacity: 0;
        pointer-events: none;
      }

      .lang {
        display: none;
      }

      span {
        display: none;
      }

      .btn1 {
        display: none;
      }
    }

    @media (min-width: 2000px) {
      .bannerholder {
        width: var(--max-width);
        left: 50%;
        transform: translate(-50%, 0);
        border-bottom-left-radius: var(--border-radius-standard);
        border-bottom-right-radius: var(--border-radius-standard);
        position: fixed;
      }
    }

    /* Animations */
    @keyframes opin {
      from {
        opacity: 0;
        top: 110%;
      }
      to {
        opacity: 1;
        top: 100%;
      }
    }

    @keyframes opout {
      from {
        opacity: 1;
      }
      to {
        opacity: 0;
      }
    }

    @keyframes langon {
      from {
        opacity: 0;
        height: 0;
        transform: translate(50px, -15px);
      }
      to {
        opacity: 1;
        height: 320px;
        transform: translate(50px, -12px);
      }
    }

    @keyframes langoff {
      from {
        opacity: 1;
        height: 320px;
        transform: translate(50px, -12px);
      }
      to {
        opacity: 0;
        height: 0;
        transform: translate(50px, -15px);
      }
    }
  </style>

  <style is:global>
    /* Global Styles */
    .no-transitions * {
      transition: none !important;
      animation: none !important;
    }

    .dropdown-item {
      white-space: wrap !important;
    }

	.dropdownpfp:hover {
      border: 2px solid #ffffff30;
      transition: 0.1s;
    }

	.dropdownpfp {
	  border: 0px solid #ffffff30;
	  transition: 0.1s;
	}
  </style>
</r>
